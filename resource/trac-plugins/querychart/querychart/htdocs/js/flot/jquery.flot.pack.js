(function(f){function d(T,aq,M,am){var X=[],V={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{mode:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null},yaxis:{autoscaleMargin:0.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:0.02},series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{color:"#545454",backgroundColor:null,tickColor:"#dddddd",labelMargin:5,borderWidth:2,borderColor:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},selection:{mode:null,color:"#e8cfac"},crosshair:{mode:null,color:"#aa0000"}},aI=null,aj=null,A=null,K=null,C=null,ak={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},t={left:0,right:0,top:0,bottom:0},J=0,L=0,p=0,x=0,av={processOptions:[],processRawData:[],processDatapoints:[]},aD=this,G={};aD.setData=ar;aD.setupGrid=u;aD.draw=ab;aD.clearSelection=aA;aD.setSelection=an;aD.getCanvas=function(){return aI};aD.getPlotOffset=function(){return t};aD.getData=function(){return X};aD.getAxes=function(){return ak};aD.getOptions=function(){return V};aD.setCrosshair=ap;aD.clearCrosshair=function(){ap(null)};aD.highlight=y;aD.unhighlight=aa;aD.hooks=av;H(aD);ae(M);D();ar(aq);u();ab();ao();function az(aL,aJ){aJ=[aD].concat(aJ);for(var aK=0;aK<aL.length;++aK){aL[aK].apply(this,aJ)}}function H(){for(var aJ=0;aJ<am.length;++aJ){var aK=am[aJ];aK.init(aD);if(aK.options){f.extend(true,V,aK.options)}}}function ae(aJ){f.extend(true,V,aJ);if(V.grid.borderColor==null){V.grid.borderColor=V.grid.color}if(V.xaxis.noTicks&&V.xaxis.ticks==null){V.xaxis.ticks=V.xaxis.noTicks}if(V.yaxis.noTicks&&V.yaxis.ticks==null){V.yaxis.ticks=V.yaxis.noTicks}if(V.grid.coloredAreas){V.grid.markings=V.grid.coloredAreas}if(V.grid.coloredAreasColor){V.grid.markingsColor=V.grid.coloredAreasColor}if(V.lines){f.extend(true,V.series.lines,V.lines)}if(V.points){f.extend(true,V.series.points,V.points)}if(V.bars){f.extend(true,V.series.bars,V.bars)}if(V.shadowSize){V.series.shadowSize=V.shadowSize}az(av.processOptions,[V])}function ar(aJ){X=ac(aJ);aF();B()}function ac(aM){var aK=[];for(var aJ=0;aJ<aM.length;++aJ){var aL=f.extend(true,{},V.series);if(aM[aJ].data){aL.data=aM[aJ].data;delete aM[aJ].data;f.extend(true,aL,aM[aJ]);aM[aJ].data=aL.data}else{aL.data=aM[aJ]}aK.push(aL)}return aK}function aF(){var aO;var aT=X.length,aJ=[],aM=[];for(aO=0;aO<X.length;++aO){var aS=X[aO].color;if(aS!=null){--aT;if(typeof aS=="number"){aM.push(aS)}else{aJ.push(e(X[aO].color))}}}for(aO=0;aO<aM.length;++aO){aT=Math.max(aT,aM[aO]+1)}var aK=[],aN=0;aO=0;while(aK.length<aT){var aR;if(V.colors.length==aO){aR=new g(100,100,100)}else{aR=e(V.colors[aO])}var aL=aN%2==1?-1:1;var aQ=1+aL*Math.ceil(aN/2)*0.2;aR.scale(aQ,aQ,aQ);aK.push(aR);++aO;if(aO>=V.colors.length){aO=0;++aN}}var aP=0,aU;for(aO=0;aO<X.length;++aO){aU=X[aO];if(aU.color==null){aU.color=aK[aP].toString();++aP}else{if(typeof aU.color=="number"){aU.color=aK[aU.color].toString()}}if(aU.lines.show==null&&!aU.bars.show&&!aU.points.show){aU.lines.show=true}if(!aU.xaxis){aU.xaxis=ak.xaxis}if(aU.xaxis==1){aU.xaxis=ak.xaxis}else{if(aU.xaxis==2){aU.xaxis=ak.x2axis}}if(!aU.yaxis){aU.yaxis=ak.yaxis}if(aU.yaxis==1){aU.yaxis=ak.yaxis}else{if(aU.yaxis==2){aU.yaxis=ak.y2axis}}}}function B(){var aT=Number.POSITIVE_INFINITY,aN=Number.NEGATIVE_INFINITY,aZ,aX,aW,aS,aJ,aO,aY,aU,aM,aL;for(axis in ak){ak[axis].datamin=aT;ak[axis].datamax=aN;ak[axis].min=V[axis].min;ak[axis].max=V[axis].max;ak[axis].used=false}function aK(a6,a5,a4){if(a5<a6.datamin){a6.datamin=a5}if(a4>a6.datamax){a6.datamax=a4}}for(aZ=0;aZ<X.length;++aZ){aO=X[aZ];aO.datapoints={points:[]};az(av.processRawData,[aO,aO.data,aO.datapoints])}for(aZ=0;aZ<X.length;++aZ){aO=X[aZ];if(aO.datapoints.pointsize!=null){continue}var a3=aO.data,a1=[],aQ;if(aO.bars.show){aO.datapoints.pointsize=3;a1.push({d:0})}else{aO.datapoints.pointsize=2}aU=aO.datapoints.pointsize;aY=aO.datapoints.points;insertSteps=aO.lines.show&&aO.lines.steps;aO.xaxis.used=aO.yaxis.used=true;for(aX=aW=0;aX<a3.length;++aX,aW+=aU){aQ=a3[aX];if(aQ!=null){aM=aQ[0];aL=aQ[1]}else{aL=aM=null}if(aM!=null){aM=+aM;if(isNaN(aM)){aM=null}}if(aL!=null){aL=+aL;if(isNaN(aL)){aL=null}}if(aM==null&&aL!=null){aK(aO.yaxis,aL,aL);aL=null}if(aL==null&&aM!=null){aK(aO.xaxis,aM,aM);aM=null}if(insertSteps&&aM!=null&&aW>0&&aY[aW-aU]!=null&&aY[aW-aU]!=aM&&aY[aW-aU+1]!=aL){aY[aW+1]=aY[aW-aU+1];aY[aW]=aM;for(aS=2;aS<aU;++aS){aY[aW+aS]=aQ[aS]==null?a1[aS-2].d:aQ[aS]}aW+=aU}for(aS=2;aS<aU;++aS){aY[aW+aS]=aQ[aS]==null?a1[aS-2].d:aQ[aS]}aY[aW]=aM;aY[aW+1]=aL}}for(aZ=0;aZ<X.length;++aZ){aO=X[aZ];az(av.processDatapoints,[aO,aO.datapoints])}for(aZ=0;aZ<X.length;++aZ){aO=X[aZ];aY=aO.datapoints.points,aU=aO.datapoints.pointsize;var aP=aT,aV=aT,aR=aN,a0=aN;for(aX=0;aX<aY.length;aX+=aU){aM=aY[aX];if(aM==null){continue}if(aM<aP){aP=aM}if(aM>aR){aR=aM}aL=aY[aX+1];if(aL<aV){aV=aL}if(aL>a0){a0=aL}}if(aO.bars.show){var a2=aO.bars.align=="left"?0:-aO.bars.barWidth/2;if(aO.bars.horizontal){aV+=a2;a0+=a2+aO.bars.barWidth}else{aP+=a2;aR+=a2+aO.bars.barWidth}}aK(aO.xaxis,aP,aR);aK(aO.yaxis,aV,a0)}}function D(){function aJ(aL,aK){var aM=document.createElement("canvas");aM.width=aL;aM.height=aK;if(f.browser.msie){aM=window.G_vmlCanvasManager.initElement(aM)}return aM}J=T.width();L=T.height();T.html("");if(T.css("position")=="static"){T.css("position","relative")}if(J<=0||L<=0){throw"Invalid dimensions for plot, width = "+J+", height = "+L}if(f.browser.msie){window.G_vmlCanvasManager.init_(document)}aI=f(aJ(J,L)).appendTo(T).get(0);K=aI.getContext("2d");aj=f(aJ(J,L)).css({position:"absolute",left:0,top:0}).appendTo(T).get(0);C=aj.getContext("2d")}function ao(){A=f([aj,aI]);if(V.selection.mode!=null||V.crosshair.mode!=null||V.grid.hoverable){A.each(function(){this.onmousemove=af});if(V.selection.mode!=null){A.mousedown(z)}}if(V.crosshair.mode!=null){A.mouseout(Q)}if(V.grid.clickable){A.click(Y)}}function u(){function aJ(aM,aL){r(aM,aL);aw(aM,aL);W(aM,aL);if(aM==ak.xaxis||aM==ak.x2axis){aM.p2c=function(aN){return(aN-aM.min)*aM.scale};aM.c2p=function(aN){return aM.min+aN/aM.scale}}else{aM.p2c=function(aN){return(aM.max-aN)*aM.scale};aM.c2p=function(aN){return aM.max-aN/aM.scale}}}for(var aK in ak){aJ(ak[aK],V[aK])}S();m();s()}function r(aM,aO){var aL=aO.min!=null?+aO.min:aM.datamin,aJ=aO.max!=null?+aO.max:aM.datamax;if(aL==Number.POSITIVE_INFINITY){aL=0}if(aJ==Number.NEGATIVE_INFINITY){aJ=1}if(aJ-aL==0){var aK=aJ==0?1:0.01;if(aO.min==null){aL-=aK}if(aO.max==null||aO.min!=null){aJ+=aK}}else{var aN=aO.autoscaleMargin;if(aN!=null){if(aO.min==null){aL-=(aJ-aL)*aN;if(aL<0&&aM.datamin>=0){aL=0}}if(aO.max==null){aJ+=(aJ-aL)*aN;if(aJ>0&&aM.datamax<=0){aJ=0}}}}aM.min=aL;aM.max=aJ}function aw(aO,aR){var aN;if(typeof aR.ticks=="number"&&aR.ticks>0){aN=aR.ticks}else{if(aO==ak.xaxis||aO==ak.x2axis){aN=J/100}else{aN=L/60}}var aW=(aO.max-aO.min)/aN;var aY,aS,aU,aV,aQ,aL,aK;if(aR.mode=="time"){var aT={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var aX=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aM=0;if(aR.minTickSize!=null){if(typeof aR.tickSize=="number"){aM=aR.tickSize}else{aM=aR.minTickSize[0]*aT[aR.minTickSize[1]]}}for(aQ=0;aQ<aX.length-1;++aQ){if(aW<(aX[aQ][0]*aT[aX[aQ][1]]+aX[aQ+1][0]*aT[aX[aQ+1][1]])/2&&aX[aQ][0]*aT[aX[aQ][1]]>=aM){break}}aY=aX[aQ][0];aU=aX[aQ][1];if(aU=="year"){aL=Math.pow(10,Math.floor(Math.log(aW/aT.year)/Math.LN10));aK=(aW/aT.year)/aL;if(aK<1.5){aY=1}else{if(aK<3){aY=2}else{if(aK<7.5){aY=5}else{aY=10}}}aY*=aL}if(aR.tickSize){aY=aR.tickSize[0];aU=aR.tickSize[1]}aS=function(a1){var a6=[],a4=a1.tickSize[0],a7=a1.tickSize[1],a5=new Date(a1.min);var a0=a4*aT[a7];if(a7=="second"){a5.setUTCSeconds(c(a5.getUTCSeconds(),a4))}if(a7=="minute"){a5.setUTCMinutes(c(a5.getUTCMinutes(),a4))}if(a7=="hour"){a5.setUTCHours(c(a5.getUTCHours(),a4))}if(a7=="month"){a5.setUTCMonth(c(a5.getUTCMonth(),a4))}if(a7=="year"){a5.setUTCFullYear(c(a5.getUTCFullYear(),a4))}a5.setUTCMilliseconds(0);if(a0>=aT.minute){a5.setUTCSeconds(0)}if(a0>=aT.hour){a5.setUTCMinutes(0)}if(a0>=aT.day){a5.setUTCHours(0)}if(a0>=aT.day*4){a5.setUTCDate(1)}if(a0>=aT.year){a5.setUTCMonth(0)}var a9=0,a8=Number.NaN,a2;do{a2=a8;a8=a5.getTime();a6.push({v:a8,label:a1.tickFormatter(a8,a1)});if(a7=="month"){if(a4<1){a5.setUTCDate(1);var aZ=a5.getTime();a5.setUTCMonth(a5.getUTCMonth()+1);var a3=a5.getTime();a5.setTime(a8+a9*aT.hour+(a3-aZ)*a4);a9=a5.getUTCHours();a5.setUTCHours(0)}else{a5.setUTCMonth(a5.getUTCMonth()+a4)}}else{if(a7=="year"){a5.setUTCFullYear(a5.getUTCFullYear()+a4)}else{a5.setTime(a8+a0)}}}while(a8<a1.max&&a8!=a2);return a6};aV=function(aZ,a2){var a3=new Date(aZ);if(aR.timeformat!=null){return f.plot.formatDate(a3,aR.timeformat,aR.monthNames)}var a0=a2.tickSize[0]*aT[a2.tickSize[1]];var a1=a2.max-a2.min;if(a0<aT.minute){fmt="%h:%M:%S"}else{if(a0<aT.day){if(a1<2*aT.day){fmt="%h:%M"}else{fmt="%b %d %h:%M"}}else{if(a0<aT.month){fmt="%b %d"}else{if(a0<aT.year){if(a1<aT.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return f.plot.formatDate(a3,fmt,aR.monthNames)}}else{var aJ=aR.tickDecimals;var aP=-Math.floor(Math.log(aW)/Math.LN10);if(aJ!=null&&aP>aJ){aP=aJ}aL=Math.pow(10,-aP);aK=aW/aL;if(aK<1.5){aY=1}else{if(aK<3){aY=2;if(aK>2.25&&(aJ==null||aP+1<=aJ)){aY=2.5;++aP}}else{if(aK<7.5){aY=5}else{aY=10}}}aY*=aL;if(aR.minTickSize!=null&&aY<aR.minTickSize){aY=aR.minTickSize}if(aR.tickSize!=null){aY=aR.tickSize}aO.tickDecimals=Math.max(0,(aJ!=null)?aJ:aP);aS=function(a1){var a3=[];var a4=c(a1.min,a1.tickSize),a0=0,aZ=Number.NaN,a2;do{a2=aZ;aZ=a4+a0*a1.tickSize;a3.push({v:aZ,label:a1.tickFormatter(aZ,a1)});++a0}while(aZ<a1.max&&aZ!=a2);return a3};aV=function(aZ,a0){return aZ.toFixed(a0.tickDecimals)}}aO.tickSize=aU?[aY,aU]:aY;aO.tickGenerator=aS;if(f.isFunction(aR.tickFormatter)){aO.tickFormatter=function(aZ,a0){return""+aR.tickFormatter(aZ,a0)}}else{aO.tickFormatter=aV}if(aR.labelWidth!=null){aO.labelWidth=aR.labelWidth}if(aR.labelHeight!=null){aO.labelHeight=aR.labelHeight}}function W(aN,aP){aN.ticks=[];if(!aN.used){return}if(aP.ticks==null){aN.ticks=aN.tickGenerator(aN)}else{if(typeof aP.ticks=="number"){if(aP.ticks>0){aN.ticks=aN.tickGenerator(aN)}}else{if(aP.ticks){var aO=aP.ticks;if(f.isFunction(aO)){aO=aO({min:aN.min,max:aN.max})}var aM,aJ;for(aM=0;aM<aO.length;++aM){var aK=null;var aL=aO[aM];if(typeof aL=="object"){aJ=aL[0];if(aL.length>1){aK=aL[1]}}else{aJ=aL}if(aK==null){aK=aN.tickFormatter(aJ,aN)}aN.ticks[aM]={v:aJ,label:aK}}}}}if(aP.autoscaleMargin!=null&&aN.ticks.length>0){if(aP.min==null){aN.min=Math.min(aN.min,aN.ticks[0].v)}if(aP.max==null&&aN.ticks.length>1){aN.max=Math.min(aN.max,aN.ticks[aN.ticks.length-1].v)}}}function S(){function aL(aO){if(aO.labelWidth==null){aO.labelWidth=J/6}if(aO.labelHeight==null){labels=[];for(i=0;i<aO.ticks.length;++i){l=aO.ticks[i].label;if(l){labels.push('<div class="tickLabel" style="float:left;width:'+aO.labelWidth+'px">'+l+"</div>")}}aO.labelHeight=0;if(labels.length>0){var aN=f('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+labels.join("")+'<div style="clear:left"></div></div>').appendTo(T);aO.labelHeight=aN.height();aN.remove()}}}function aJ(aQ){if(aQ.labelWidth==null||aQ.labelHeight==null){var aP,aR=[],aO;for(aP=0;aP<aQ.ticks.length;++aP){aO=aQ.ticks[aP].label;if(aO){aR.push('<div class="tickLabel">'+aO+"</div>")}}if(aR.length>0){var aN=f('<div style="position:absolute;top:-10000px;font-size:smaller">'+aR.join("")+"</div>").appendTo(T);if(aQ.labelWidth==null){aQ.labelWidth=aN.width()}if(aQ.labelHeight==null){aQ.labelHeight=aN.find("div").height()}aN.remove()}if(aQ.labelWidth==null){aQ.labelWidth=0}if(aQ.labelHeight==null){aQ.labelHeight=0}}}aL(ak.xaxis);aJ(ak.yaxis);aL(ak.x2axis);aJ(ak.y2axis);var aM=V.grid.borderWidth;for(i=0;i<X.length;++i){aM=Math.max(aM,2*(X[i].points.radius+X[i].points.lineWidth/2))}t.left=t.right=t.top=t.bottom=aM;var aK=V.grid.labelMargin+V.grid.borderWidth;if(ak.xaxis.labelHeight>0){t.bottom=Math.max(aM,ak.xaxis.labelHeight+aK)}if(ak.yaxis.labelWidth>0){t.left=Math.max(aM,ak.yaxis.labelWidth+aK)}if(ak.x2axis.labelHeight>0){t.top=Math.max(aM,ak.x2axis.labelHeight+aK)}if(ak.y2axis.labelWidth>0){t.right=Math.max(aM,ak.y2axis.labelWidth+aK)}p=J-t.left-t.right;x=L-t.bottom-t.top;ak.xaxis.scale=p/(ak.xaxis.max-ak.xaxis.min);ak.yaxis.scale=x/(ak.yaxis.max-ak.yaxis.min);ak.x2axis.scale=p/(ak.x2axis.max-ak.x2axis.min);ak.y2axis.scale=x/(ak.y2axis.max-ak.y2axis.min)}function ab(){ai();for(var aJ=0;aJ<X.length;++aJ){j(X[aJ])}}function E(aK,aQ){var aN=aQ+"axis",aJ=aQ+"2axis",aM,aP,aO,aL;if(aK[aN]){aM=ak[aN];aP=aK[aN].from;aO=aK[aN].to}else{if(aK[aJ]){aM=ak[aJ];aP=aK[aJ].from;aO=aK[aJ].to}else{aM=ak[aN];aP=aK[aQ+"1"];aO=aK[aQ+"2"]}}if(aP!=null&&aO!=null&&aP>aO){return{from:aO,to:aP,axis:aM}}return{from:aP,to:aO,axis:aM}}function ai(){var aN;K.save();K.clearRect(0,0,J,L);K.translate(t.left,t.top);if(V.grid.backgroundColor){K.fillStyle=ay(V.grid.backgroundColor,x,0,"rgba(255, 255, 255, 0)");K.fillRect(0,0,p,x)}var aK=V.grid.markings;if(aK){if(f.isFunction(aK)){aK=aK({xmin:ak.xaxis.min,xmax:ak.xaxis.max,ymin:ak.yaxis.min,ymax:ak.yaxis.max,xaxis:ak.xaxis,yaxis:ak.yaxis,x2axis:ak.x2axis,y2axis:ak.y2axis})}for(aN=0;aN<aK.length;++aN){var aJ=aK[aN],aP=E(aJ,"x"),aM=E(aJ,"y");if(aP.from==null){aP.from=aP.axis.min}if(aP.to==null){aP.to=aP.axis.max}if(aM.from==null){aM.from=aM.axis.min}if(aM.to==null){aM.to=aM.axis.max}if(aP.to<aP.axis.min||aP.from>aP.axis.max||aM.to<aM.axis.min||aM.from>aM.axis.max){continue}aP.from=Math.max(aP.from,aP.axis.min);aP.to=Math.min(aP.to,aP.axis.max);aM.from=Math.max(aM.from,aM.axis.min);aM.to=Math.min(aM.to,aM.axis.max);if(aP.from==aP.to&&aM.from==aM.to){continue}aP.from=aP.axis.p2c(aP.from);aP.to=aP.axis.p2c(aP.to);aM.from=aM.axis.p2c(aM.from);aM.to=aM.axis.p2c(aM.to);if(aP.from==aP.to||aM.from==aM.to){K.strokeStyle=aJ.color||V.grid.markingsColor;K.beginPath();K.lineWidth=aJ.lineWidth||V.grid.markingsLineWidth;K.moveTo(aP.from,aM.from);K.lineTo(aP.to,aM.to);K.stroke()}else{K.fillStyle=aJ.color||V.grid.markingsColor;K.fillRect(aP.from,aM.to,aP.to-aP.from,aM.from-aM.to)}}}K.lineWidth=1;K.strokeStyle=V.grid.tickColor;K.beginPath();var aL,aO=ak.xaxis;for(aN=0;aN<aO.ticks.length;++aN){aL=aO.ticks[aN].v;if(aL<=aO.min||aL>=ak.xaxis.max){continue}K.moveTo(Math.floor(aO.p2c(aL))+K.lineWidth/2,0);K.lineTo(Math.floor(aO.p2c(aL))+K.lineWidth/2,x)}aO=ak.yaxis;for(aN=0;aN<aO.ticks.length;++aN){aL=aO.ticks[aN].v;if(aL<=aO.min||aL>=aO.max){continue}K.moveTo(0,Math.floor(aO.p2c(aL))+K.lineWidth/2);K.lineTo(p,Math.floor(aO.p2c(aL))+K.lineWidth/2)}aO=ak.x2axis;for(aN=0;aN<aO.ticks.length;++aN){aL=aO.ticks[aN].v;if(aL<=aO.min||aL>=aO.max){continue}K.moveTo(Math.floor(aO.p2c(aL))+K.lineWidth/2,-5);K.lineTo(Math.floor(aO.p2c(aL))+K.lineWidth/2,5)}aO=ak.y2axis;for(aN=0;aN<aO.ticks.length;++aN){aL=aO.ticks[aN].v;if(aL<=aO.min||aL>=aO.max){continue}K.moveTo(p-5,Math.floor(aO.p2c(aL))+K.lineWidth/2);K.lineTo(p+5,Math.floor(aO.p2c(aL))+K.lineWidth/2)}K.stroke();if(V.grid.borderWidth){var aQ=V.grid.borderWidth;K.lineWidth=aQ;K.strokeStyle=V.grid.borderColor;K.strokeRect(-aQ/2,-aQ/2,p+aQ,x+aQ)}K.restore()}function m(){T.find(".tickLabels").remove();var aJ=['<div class="tickLabels" style="font-size:smaller;color:'+V.grid.color+'">'];function aL(aO,aP){for(var aN=0;aN<aO.ticks.length;++aN){var aM=aO.ticks[aN];if(!aM.label||aM.v<aO.min||aM.v>aO.max){continue}aJ.push(aP(aM,aO))}}var aK=V.grid.labelMargin+V.grid.borderWidth;aL(ak.xaxis,function(aM,aN){return'<div style="position:absolute;top:'+(t.top+x+aK)+"px;left:"+Math.round(t.left+aN.p2c(aM.v)-aN.labelWidth/2)+"px;width:"+aN.labelWidth+'px;text-align:center" class="tickLabel">'+aM.label+"</div>"});aL(ak.yaxis,function(aM,aN){return'<div style="position:absolute;top:'+Math.round(t.top+aN.p2c(aM.v)-aN.labelHeight/2)+"px;right:"+(t.right+p+aK)+"px;width:"+aN.labelWidth+'px;text-align:right" class="tickLabel">'+aM.label+"</div>"});aL(ak.x2axis,function(aM,aN){return'<div style="position:absolute;bottom:'+(t.bottom+x+aK)+"px;left:"+Math.round(t.left+aN.p2c(aM.v)-aN.labelWidth/2)+"px;width:"+aN.labelWidth+'px;text-align:center" class="tickLabel">'+aM.label+"</div>"});aL(ak.y2axis,function(aM,aN){return'<div style="position:absolute;top:'+Math.round(t.top+aN.p2c(aM.v)-aN.labelHeight/2)+"px;left:"+(t.left+p+aK)+"px;width:"+aN.labelWidth+'px;text-align:left" class="tickLabel">'+aM.label+"</div>"});aJ.push("</div>");T.append(aJ.join(""))}function j(aJ){if(aJ.lines.show){aE(aJ)}if(aJ.bars.show){n(aJ)}if(aJ.points.show){aB(aJ)}}function aE(aM){function aL(aX,aY,aQ,a2,a1){var a3=aX.points,aR=aX.pointsize,aV=null,aU=null;K.beginPath();for(var aW=aR;aW<a3.length;aW+=aR){var aT=a3[aW-aR],a0=a3[aW-aR+1],aS=a3[aW],aZ=a3[aW+1];if(aT==null||aS==null){continue}if(a0<=aZ&&a0<a1.min){if(aZ<a1.min){continue}aT=(a1.min-a0)/(aZ-a0)*(aS-aT)+aT;a0=a1.min}else{if(aZ<=a0&&aZ<a1.min){if(a0<a1.min){continue}aS=(a1.min-a0)/(aZ-a0)*(aS-aT)+aT;aZ=a1.min}}if(a0>=aZ&&a0>a1.max){if(aZ>a1.max){continue}aT=(a1.max-a0)/(aZ-a0)*(aS-aT)+aT;a0=a1.max}else{if(aZ>=a0&&aZ>a1.max){if(a0>a1.max){continue}aS=(a1.max-a0)/(aZ-a0)*(aS-aT)+aT;aZ=a1.max}}if(aT<=aS&&aT<a2.min){if(aS<a2.min){continue}a0=(a2.min-aT)/(aS-aT)*(aZ-a0)+a0;aT=a2.min}else{if(aS<=aT&&aS<a2.min){if(aT<a2.min){continue}aZ=(a2.min-aT)/(aS-aT)*(aZ-a0)+a0;aS=a2.min}}if(aT>=aS&&aT>a2.max){if(aS>a2.max){continue}a0=(a2.max-aT)/(aS-aT)*(aZ-a0)+a0;aT=a2.max}else{if(aS>=aT&&aS>a2.max){if(aT>a2.max){continue}aZ=(a2.max-aT)/(aS-aT)*(aZ-a0)+a0;aS=a2.max}}if(aT!=aV||a0!=aU){K.moveTo(a2.p2c(aT)+aY,a1.p2c(a0)+aQ)}aV=aS;aU=aZ;K.lineTo(a2.p2c(aS)+aY,a1.p2c(aZ)+aQ)}K.stroke()}function aN(aW,a3,a1){var a4=aW.points,aQ=aW.pointsize,aR=Math.min(Math.max(0,a1.min),a1.max),aZ,aU=0,a2=false;for(var aV=aQ;aV<a4.length;aV+=aQ){var aT=a4[aV-aQ],a0=a4[aV-aQ+1],aS=a4[aV],aY=a4[aV+1];if(a2&&aT!=null&&aS==null){K.lineTo(a3.p2c(aU),a1.p2c(aR));K.fill();a2=false;continue}if(aT==null||aS==null){continue}if(aT<=aS&&aT<a3.min){if(aS<a3.min){continue}a0=(a3.min-aT)/(aS-aT)*(aY-a0)+a0;aT=a3.min}else{if(aS<=aT&&aS<a3.min){if(aT<a3.min){continue}aY=(a3.min-aT)/(aS-aT)*(aY-a0)+a0;aS=a3.min}}if(aT>=aS&&aT>a3.max){if(aS>a3.max){continue}a0=(a3.max-aT)/(aS-aT)*(aY-a0)+a0;aT=a3.max}else{if(aS>=aT&&aS>a3.max){if(aT>a3.max){continue}aY=(a3.max-aT)/(aS-aT)*(aY-a0)+a0;aS=a3.max}}if(!a2){K.beginPath();K.moveTo(a3.p2c(aT),a1.p2c(aR));a2=true}if(a0>=a1.max&&aY>=a1.max){K.lineTo(a3.p2c(aT),a1.p2c(a1.max));K.lineTo(a3.p2c(aS),a1.p2c(a1.max));aU=aS;continue}else{if(a0<=a1.min&&aY<=a1.min){K.lineTo(a3.p2c(aT),a1.p2c(a1.min));K.lineTo(a3.p2c(aS),a1.p2c(a1.min));aU=aS;continue}}var a5=aT,aX=aS;if(a0<=aY&&a0<a1.min&&aY>=a1.min){aT=(a1.min-a0)/(aY-a0)*(aS-aT)+aT;a0=a1.min}else{if(aY<=a0&&aY<a1.min&&a0>=a1.min){aS=(a1.min-a0)/(aY-a0)*(aS-aT)+aT;aY=a1.min}}if(a0>=aY&&a0>a1.max&&aY<=a1.max){aT=(a1.max-a0)/(aY-a0)*(aS-aT)+aT;a0=a1.max}else{if(aY>=a0&&aY>a1.max&&a0<=a1.max){aS=(a1.max-a0)/(aY-a0)*(aS-aT)+aT;aY=a1.max}}if(aT!=a5){if(a0<=a1.min){aZ=a1.min}else{aZ=a1.max}K.lineTo(a3.p2c(a5),a1.p2c(aZ));K.lineTo(a3.p2c(aT),a1.p2c(aZ))}K.lineTo(a3.p2c(aT),a1.p2c(a0));K.lineTo(a3.p2c(aS),a1.p2c(aY));if(aS!=aX){if(aY<=a1.min){aZ=a1.min}else{aZ=a1.max}K.lineTo(a3.p2c(aS),a1.p2c(aZ));K.lineTo(a3.p2c(aX),a1.p2c(aZ))}aU=Math.max(aS,aX)}if(a2){K.lineTo(a3.p2c(aU),a1.p2c(aR));K.fill()}}K.save();K.translate(t.left,t.top);K.lineJoin="round";var aP=aM.lines.lineWidth,aJ=aM.shadowSize;if(aP>0&&aJ>0){K.lineWidth=aJ;K.strokeStyle="rgba(0,0,0,0.1)";var aO=1;aL(aM.datapoints,aO,Math.sqrt((aP/2+aJ/2)*(aP/2+aJ/2)-aO*aO),aM.xaxis,aM.yaxis);K.lineWidth=aJ/2;aL(aM.datapoints,aO,Math.sqrt((aP/2+aJ/4)*(aP/2+aJ/4)-aO*aO),aM.xaxis,aM.yaxis)}K.lineWidth=aP;K.strokeStyle=aM.color;var aK=al(aM.lines,aM.color,0,x);if(aK){K.fillStyle=aK;aN(aM.datapoints,aM.xaxis,aM.yaxis)}if(aP>0){aL(aM.datapoints,0,0,aM.xaxis,aM.yaxis)}K.restore()}function aB(aM){function aO(aT,aS,a0,aQ,aU,aY,aX){var aZ=aT.points,aP=aT.pointsize;for(var aR=0;aR<aZ.length;aR+=aP){var aW=aZ[aR],aV=aZ[aR+1];if(aW==null||aW<aY.min||aW>aY.max||aV<aX.min||aV>aX.max){continue}K.beginPath();K.arc(aY.p2c(aW),aX.p2c(aV)+aQ,aS,0,aU,true);if(a0){K.fillStyle=a0;K.fill()}K.stroke()}}K.save();K.translate(t.left,t.top);var aN=aM.lines.lineWidth,aK=aM.shadowSize,aJ=aM.points.radius;if(aN>0&&aK>0){var aL=aK/2;K.lineWidth=aL;K.strokeStyle="rgba(0,0,0,0.1)";aO(aM.datapoints,aJ,null,aL+aL/2,2*Math.PI,aM.xaxis,aM.yaxis);K.strokeStyle="rgba(0,0,0,0.2)";aO(aM.datapoints,aJ,null,aL/2,2*Math.PI,aM.xaxis,aM.yaxis)}K.lineWidth=aN;K.strokeStyle=aM.color;aO(aM.datapoints,aJ,al(aM.points,aM.color),0,2*Math.PI,aM.xaxis,aM.yaxis);K.restore()}function F(aU,aT,a2,aP,aX,aM,aK,aS,aR,a1,aY){var aL,a0,aQ,aW,aN,aJ,aV,aO,aZ;if(aY){aO=aJ=aV=true;aN=false;aL=a2;a0=aU;aW=aT+aP;aQ=aT+aX;if(a0<aL){aZ=a0;a0=aL;aL=aZ;aN=true;aJ=false}}else{aN=aJ=aV=true;aO=false;aL=aU+aP;a0=aU+aX;aQ=a2;aW=aT;if(aW<aQ){aZ=aW;aW=aQ;aQ=aZ;aO=true;aV=false}}if(a0<aS.min||aL>aS.max||aW<aR.min||aQ>aR.max){return}if(aL<aS.min){aL=aS.min;aN=false}if(a0>aS.max){a0=aS.max;aJ=false}if(aQ<aR.min){aQ=aR.min;aO=false}if(aW>aR.max){aW=aR.max;aV=false}aL=aS.p2c(aL);aQ=aR.p2c(aQ);a0=aS.p2c(a0);aW=aR.p2c(aW);if(aK){a1.beginPath();a1.moveTo(aL,aQ);a1.lineTo(aL,aW);a1.lineTo(a0,aW);a1.lineTo(a0,aQ);a1.fillStyle=aK(aQ,aW);a1.fill()}if(aN||aJ||aV||aO){a1.beginPath();a1.moveTo(aL,aQ+aM);if(aN){a1.lineTo(aL,aW+aM)}else{a1.moveTo(aL,aW+aM)}if(aV){a1.lineTo(a0,aW+aM)}else{a1.moveTo(a0,aW+aM)}if(aJ){a1.lineTo(a0,aQ+aM)}else{a1.moveTo(a0,aQ+aM)}if(aO){a1.lineTo(aL,aQ+aM)}else{a1.moveTo(aL,aQ+aM)}a1.stroke()}}function n(aL){function aK(aR,aQ,aT,aO,aS,aV,aU){var aW=aR.points,aN=aR.pointsize;for(var aP=0;aP<aW.length;aP+=aN){if(aW[aP]==null){continue}F(aW[aP],aW[aP+1],aW[aP+2],aQ,aT,aO,aS,aV,aU,K,aL.bars.horizontal)}}K.save();K.translate(t.left,t.top);K.lineWidth=aL.bars.lineWidth;K.strokeStyle=aL.color;var aJ=aL.bars.align=="left"?0:-aL.bars.barWidth/2;var aM=aL.bars.fill?function(aN,aO){return al(aL.bars,aL.color,aN,aO)}:null;aK(aL.datapoints,aJ,aJ+aL.bars.barWidth,0,aM,aL.xaxis,aL.yaxis);K.restore()}function al(aL,aJ,aK,aN){var aM=aL.fill;if(!aM){return null}if(aL.fillColor){return ay(aL.fillColor,aK,aN,aJ)}var aO=e(aJ);aO.a=typeof aM=="number"?aM:0.4;aO.normalize();return aO.toString()}function s(){T.find(".legend").remove();if(!V.legend.show){return}var aP=[],aN=false,aV=V.legend.labelFormatter,aU,aR;for(i=0;i<X.length;++i){aU=X[i];aR=aU.label;if(!aR){continue}if(i%V.legend.noColumns==0){if(aN){aP.push("</tr>")}aP.push("<tr>");aN=true}if(aV){aR=aV(aR,aU)}aP.push('<td class="legendColorBox"><div style="border:1px solid '+V.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aU.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aR+"</td>")}if(aN){aP.push("</tr>")}if(aP.length==0){return}var aT='<table style="font-size:smaller;color:'+V.grid.color+'">'+aP.join("")+"</table>";if(V.legend.container!=null){f(V.legend.container).html(aT)}else{var aQ="",aK=V.legend.position,aL=V.legend.margin;if(aL[0]==null){aL=[aL,aL]}if(aK.charAt(0)=="n"){aQ+="top:"+(aL[1]+t.top)+"px;"}else{if(aK.charAt(0)=="s"){aQ+="bottom:"+(aL[1]+t.bottom)+"px;"}}if(aK.charAt(1)=="e"){aQ+="right:"+(aL[0]+t.right)+"px;"}else{if(aK.charAt(1)=="w"){aQ+="left:"+(aL[0]+t.left)+"px;"}}var aS=f('<div class="legend">'+aT.replace('style="','style="position:absolute;'+aQ+";")+"</div>").appendTo(T);if(V.legend.backgroundOpacity!=0){var aO=V.legend.backgroundColor;if(aO==null){var aM;if(V.grid.backgroundColor&&typeof V.grid.backgroundColor=="string"){aM=V.grid.backgroundColor}else{aM=a(aS)}aO=e(aM).adjust(null,null,null,1).toString()}var aJ=aS.children();f('<div style="position:absolute;width:'+aJ.width()+"px;height:"+aJ.height()+"px;"+aQ+"background-color:"+aO+';"> </div>').prependTo(aS).css("opacity",V.legend.backgroundOpacity)}}}var O={pageX:null,pageY:null},aG={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false},q={pos:{x:-1,y:-1}},ah=[],au=false,P=null,k=null;function N(aQ,aO,aL){var aW=V.grid.mouseActiveRadius,a5=aW*aW+1,a7=null,aZ=false,a4,a2;for(var a4=0;a4<X.length;++a4){if(!aL(X[a4])){continue}var aX=X[a4],aP=aX.xaxis,aN=aX.yaxis,a3=aX.datapoints.points,a1=aX.datapoints.pointsize,aY=aP.c2p(aQ),aV=aN.c2p(aO),aK=aW/aP.scale,aJ=aW/aN.scale;if(aX.lines.show||aX.points.show){for(a2=0;a2<a3.length;a2+=a1){var aS=a3[a2],aR=a3[a2+1];if(aS==null){continue}if(aS-aY>aK||aS-aY<-aK||aR-aV>aJ||aR-aV<-aJ){continue}var aU=Math.abs(aP.p2c(aS)-aQ),aT=Math.abs(aN.p2c(aR)-aO),a0=aU*aU+aT*aT;if(a0<a5){a5=a0;a7=[a4,a2/a1]}}}if(aX.bars.show&&!a7){var aM=aX.bars.align=="left"?0:-aX.bars.barWidth/2,a6=aM+aX.bars.barWidth;for(a2=0;a2<a3.length;a2+=a1){var aS=a3[a2],aR=a3[a2+1],a8=a3[a2+2];if(aS==null){continue}if(X[a4].bars.horizontal?(aY<=Math.max(a8,aS)&&aY>=Math.min(a8,aS)&&aV>=aR+aM&&aV<=aR+a6):(aY>=aS+aM&&aY<=aS+a6&&aV>=Math.min(a8,aR)&&aV<=Math.max(a8,aR))){a7=[a4,a2/a1]}}}}if(a7){a4=a7[0];a2=a7[1];return{datapoint:X[a4].datapoints.points.slice(a2*a1,(a2+1)*a1),dataIndex:a2,series:X[a4],seriesIndex:a4}}return null}function af(aK){var aL=aK||window.event;if(aL.pageX==null&&aL.clientX!=null){var aM=document.documentElement,aJ=document.body;O.pageX=aL.clientX+(aM&&aM.scrollLeft||aJ.scrollLeft||0)-(aM.clientLeft||0);O.pageY=aL.clientY+(aM&&aM.scrollTop||aJ.scrollTop||0)-(aM.clientTop||0)}else{O.pageX=aL.pageX;O.pageY=aL.pageY}if(V.grid.hoverable){v("plothover",O,function(aN){return aN.hoverable!=false})}if(V.crosshair.mode!=null){if(!aG.active){I(q.pos,O);o()}else{q.pos.x=-1}}if(aG.active){T.trigger("plotselecting",[aC()?Z():null]);ag(O)}}function z(aJ){if(aJ.which!=1){return}document.body.focus();if(document.onselectstart!==undefined&&G.onselectstart==null){G.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&G.ondrag==null){G.ondrag=document.ondrag;document.ondrag=function(){return false}}ad(aG.first,aJ);O.pageX=null;aG.active=true;f(document).one("mouseup",R)}function Q(aJ){if(V.crosshair.mode!=null&&q.pos.x!=-1){q.pos.x=-1;o()}}function Y(aJ){if(au){au=false;return}v("plotclick",aJ,function(aK){return aK.clickable!=false})}function v(aK,aJ,aL){var aM=A.offset(),aR={pageX:aJ.pageX,pageY:aJ.pageY},aP=aJ.pageX-aM.left-t.left,aN=aJ.pageY-aM.top-t.top;if(ak.xaxis.used){aR.x=ak.xaxis.c2p(aP)}if(ak.yaxis.used){aR.y=ak.yaxis.c2p(aN)}if(ak.x2axis.used){aR.x2=ak.x2axis.c2p(aP)}if(ak.y2axis.used){aR.y2=ak.y2axis.c2p(aN)}var aS=N(aP,aN,aL);if(aS){aS.pageX=parseInt(aS.series.xaxis.p2c(aS.datapoint[0])+aM.left+t.left);aS.pageY=parseInt(aS.series.yaxis.p2c(aS.datapoint[1])+aM.top+t.top)}if(V.grid.autoHighlight){for(var aO=0;aO<ah.length;++aO){var aQ=ah[aO];if(aQ.auto==aK&&!(aS&&aQ.series==aS.series&&aQ.point==aS.datapoint)){aa(aQ.series,aQ.point)}}if(aS){y(aS.series,aS.datapoint,aK)}}T.trigger(aK,[aR,aS])}function o(){if(!P){P=setTimeout(U,30)}}function U(){P=null;C.save();C.clearRect(0,0,J,L);C.translate(t.left,t.top);var aM,aL;for(aM=0;aM<ah.length;++aM){aL=ah[aM];if(aL.series.bars.show){w(aL.series,aL.point)}else{aH(aL.series,aL.point)}}if(aG.show&&aC()){C.strokeStyle=e(V.selection.color).scale(null,null,null,0.8).toString();C.lineWidth=1;K.lineJoin="round";C.fillStyle=e(V.selection.color).scale(null,null,null,0.4).toString();var aJ=Math.min(aG.first.x,aG.second.x),aQ=Math.min(aG.first.y,aG.second.y),aK=Math.abs(aG.second.x-aG.first.x),aN=Math.abs(aG.second.y-aG.first.y);C.fillRect(aJ,aQ,aK,aN);C.strokeRect(aJ,aQ,aK,aN)}var aP=q.pos,aO=V.crosshair.mode;if(aO!=null&&aP.x!=-1){C.strokeStyle=e(V.crosshair.color).scale(null,null,null,0.8).toString();C.lineWidth=1;K.lineJoin="round";C.beginPath();if(aO.indexOf("x")!=-1){C.moveTo(aP.x,0);C.lineTo(aP.x,x)}if(aO.indexOf("y")!=-1){C.moveTo(0,aP.y);C.lineTo(p,aP.y)}C.stroke()}C.restore()}function y(aL,aJ,aM){if(typeof aL=="number"){aL=X[aL]}if(typeof aJ=="number"){aJ=aL.data[aJ]}var aK=ax(aL,aJ);if(aK==-1){ah.push({series:aL,point:aJ,auto:aM});o()}else{if(!aM){ah[aK].auto=false}}}function aa(aL,aJ){if(aL==null&&aJ==null){ah=[];o()}if(typeof aL=="number"){aL=X[aL]}if(typeof aJ=="number"){aJ=aL.data[aJ]}var aK=ax(aL,aJ);if(aK!=-1){ah.splice(aK,1);o()}}function ax(aL,aM){for(var aJ=0;aJ<ah.length;++aJ){var aK=ah[aJ];if(aK.series==aL&&aK.point[0]==aM[0]&&aK.point[1]==aM[1]){return aJ}}return -1}function aH(aM,aL){var aK=aL[0],aQ=aL[1],aP=aM.xaxis,aO=aM.yaxis;if(aK<aP.min||aK>aP.max||aQ<aO.min||aQ>aO.max){return}var aN=aM.points.radius+aM.points.lineWidth/2;C.lineWidth=aN;C.strokeStyle=e(aM.color).scale(1,1,1,0.5).toString();var aJ=1.5*aN;C.beginPath();C.arc(aP.p2c(aK),aO.p2c(aQ),aJ,0,2*Math.PI,true);C.stroke()}function w(aM,aJ){C.lineWidth=aM.bars.lineWidth;C.strokeStyle=e(aM.color).scale(1,1,1,0.5).toString();var aL=e(aM.color).scale(1,1,1,0.5).toString();var aK=aM.bars.align=="left"?0:-aM.bars.barWidth/2;F(aJ[0],aJ[1],aJ[2]||0,aK,aK+aM.bars.barWidth,0,function(){return aL},aM.xaxis,aM.yaxis,C,aM.bars.horizontal)}function I(aL,aJ){var aK=A.offset();aL.x=h(0,aJ.pageX-aK.left-t.left,p);aL.y=h(0,aJ.pageY-aK.top-t.top,x)}function ap(aJ){if(aJ==null){q.pos.x=-1}else{q.pos.x=h(0,aJ.x!=null?ak.xaxis.p2c(aJ.x):ak.x2axis.p2c(aJ.x2),p);q.pos.y=h(0,aJ.y!=null?ak.yaxis.p2c(aJ.y):ak.y2axis.p2c(aJ.y2),x)}o()}function Z(){var aK=Math.min(aG.first.x,aG.second.x),aJ=Math.max(aG.first.x,aG.second.x),aM=Math.max(aG.first.y,aG.second.y),aL=Math.min(aG.first.y,aG.second.y);var aN={};if(ak.xaxis.used){aN.xaxis={from:ak.xaxis.c2p(aK),to:ak.xaxis.c2p(aJ)}}if(ak.x2axis.used){aN.x2axis={from:ak.x2axis.c2p(aK),to:ak.x2axis.c2p(aJ)}}if(ak.yaxis.used){aN.yaxis={from:ak.yaxis.c2p(aM),to:ak.yaxis.c2p(aL)}}if(ak.y2axis.used){aN.y2axis={from:ak.y2axis.c2p(aM),to:ak.y2axis.c2p(aL)}}return aN}function at(){var aJ=Z();T.trigger("plotselected",[aJ]);if(ak.xaxis.used&&ak.yaxis.used){T.trigger("selected",[{x1:aJ.xaxis.from,y1:aJ.yaxis.from,x2:aJ.xaxis.to,y2:aJ.yaxis.to}])}}function R(aJ){if(document.onselectstart!==undefined){document.onselectstart=G.onselectstart}if(document.ondrag!==undefined){document.ondrag=G.ondrag}aG.active=false;ag(aJ);if(aC()){at();au=true}else{T.trigger("plotunselected",[]);T.trigger("plotselecting",[null])}return false}function ad(aK,aJ){I(aK,aJ);if(V.selection.mode=="y"){if(aK==aG.first){aK.x=0}else{aK.x=p}}if(V.selection.mode=="x"){if(aK==aG.first){aK.y=0}else{aK.y=x}}}function ag(aJ){if(aJ.pageX==null){return}ad(aG.second,aJ);if(aC()){aG.show=true;o()}else{aA(true)}}function aA(aJ){if(aG.show){aG.show=false;o();if(!aJ){T.trigger("plotunselected",[])}}}function an(aK,aJ){var aL;if(V.selection.mode=="y"){aG.first.x=0;aG.second.x=p}else{aL=E(aK,"x");aG.first.x=aL.axis.p2c(aL.from);aG.second.x=aL.axis.p2c(aL.to)}if(V.selection.mode=="x"){aG.first.y=0;aG.second.y=x}else{aL=E(aK,"y");aG.first.y=aL.axis.p2c(aL.from);aG.second.y=aL.axis.p2c(aL.to)}aG.show=true;o();if(!aJ){at()}}function aC(){var aJ=5;return Math.abs(aG.second.x-aG.first.x)>=aJ&&Math.abs(aG.second.y-aG.first.y)>=aJ}function ay(aL,aK,aP,aN){if(typeof aL=="string"){return aL}else{var aO=K.createLinearGradient(0,aP,0,aK);for(var aM=0,aJ=aL.colors.length;aM<aJ;++aM){var aQ=aL.colors[aM];aO.addColorStop(aM/(aJ-1),typeof aQ=="string"?aQ:e(aN).scale(aQ.brightness,aQ.brightness,aQ.brightness,aQ.opacity))}return aO}}}f.plot=function(n,k,j){var m=new d(f(n),k,j,f.plot.plugins);return m};f.plot.plugins=[];f.plot.formatDate=function(q,j,m){var k=function(r){r=""+r;return r.length==1?"0"+r:r};var p=[];var o=false;if(m==null){m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}for(var n=0;n<j.length;++n){var s=j.charAt(n);if(o){switch(s){case"h":s=""+q.getUTCHours();break;case"H":s=k(q.getUTCHours());break;case"M":s=k(q.getUTCMinutes());break;case"S":s=k(q.getUTCSeconds());break;case"d":s=""+q.getUTCDate();break;case"m":s=""+(q.getUTCMonth()+1);break;case"y":s=""+q.getUTCFullYear();break;case"b":s=""+m[q.getUTCMonth()];break}p.push(s);o=false}else{if(s=="%"){o=true}else{p.push(s)}}}return p.join("")};function c(k,j){return j*Math.floor(k/j)}function h(k,m,j){if(m<k){return k}else{if(m>j){return j}else{return m}}}function g(q,p,k,n){var o=["r","g","b","a"];var j=4;while(-1<--j){this[o[j]]=arguments[j]||((j==3)?1:0)}this.toString=function(){if(this.a>=1){return"rgb("+[this.r,this.g,this.b].join(",")+")"}else{return"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"}};this.scale=function(t,s,u,r){j=4;while(-1<--j){if(arguments[j]!=null){this[o[j]]*=arguments[j]}}return this.normalize()};this.adjust=function(t,s,u,r){j=4;while(-1<--j){if(arguments[j]!=null){this[o[j]]+=arguments[j]}}return this.normalize()};this.clone=function(){return new g(this.r,this.b,this.g,this.a)};var m=function(s,r,t){return Math.max(Math.min(s,t),r)};this.normalize=function(){this.r=h(0,parseInt(this.r),255);this.g=h(0,parseInt(this.g),255);this.b=h(0,parseInt(this.b),255);this.a=h(0,this.a,1);return this};this.normalize()}var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};function a(k){var j,m=k;do{j=m.css("background-color").toLowerCase();if(j!=""&&j!="transparent"){break}m=m.parent()}while(!f.nodeName(m.get(0),"body"));if(j=="rgba(0, 0, 0, 0)"){return"transparent"}return j}function e(m){var j;if(j=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(m)){return new g(parseInt(j[1],10),parseInt(j[2],10),parseInt(j[3],10))}if(j=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m)){return new g(parseInt(j[1],10),parseInt(j[2],10),parseInt(j[3],10),parseFloat(j[4]))}if(j=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(m)){return new g(parseFloat(j[1])*2.55,parseFloat(j[2])*2.55,parseFloat(j[3])*2.55)}if(j=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m)){return new g(parseFloat(j[1])*2.55,parseFloat(j[2])*2.55,parseFloat(j[3])*2.55,parseFloat(j[4]))}if(j=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(m)){return new g(parseInt(j[1],16),parseInt(j[2],16),parseInt(j[3],16))}if(j=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(m)){return new g(parseInt(j[1]+j[1],16),parseInt(j[2]+j[2],16),parseInt(j[3]+j[3],16))}var k=f.trim(m).toLowerCase();if(k=="transparent"){return new g(255,255,255,0)}else{j=b[k];return new g(j[0],j[1],j[2])}}})(jQuery);